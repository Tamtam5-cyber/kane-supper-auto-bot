# Telegram Bot on Railway

## Prerequisites
- A Telegram bot token from `@BotFather`.
- API ID and API Hash from [my.telegram.org](https://my.telegram.org).
- A session file for each user (optional, for `/themsession`).

## Deployment Steps
1. Clone this repository.
2. Set the following environment variables in Railway:
   - `BOT_TOKEN`: Your Telegram bot token.
   - `API_ID`: Your Telegram API ID.
   - `API_HASH`: Your Telegram API Hash.
   - `DATABASE_URL`: Automatically provided by Railway when you add a PostgreSQL database.
3. Add a PostgreSQL database in Railway:
   - Go to your project, click "New" > "Database" > "PostgreSQL".
   - Railway will provide a `DATABASE_URL` variable.
4. Deploy the project on Railway.

## Usage
### Login Methods
1. **Login with Phone Number and OTP:**
   - `/dangnhap phone_number`: Start the login process by providing your phone number.
   - Bot will send an OTP code via Telegram.
   - `/xacthuc otp_code`: Verify the OTP to log in. A new session will be created.
2. **Login with Session File:**
   - `/themsession`: Start the login process by uploading a `session.zip` file.
   - Upload your `session.zip` file containing a `.session` file (generated by Telethon).

### General Commands
- `/forward`: Set up message forwarding.
- `/startspam`: Spam to groups.
- `/spamcontacts`: Spam to contacts.
- `/spamfile`: Spam from a phone number file (CSV format with a 'phone' column).

### Admin Commands
- `/listusers`: List all users.
- `/makeadmin chat_id`: Grant admin rights to a user.
- `/removeuser chat_id`: Remove a user.

## Notes
- Each user must log in using one of the two methods before using the bot.
- The bot supports multiple users (100+), with separate data for each user.
- Data is stored in PostgreSQL to ensure persistence on Railway.
